<?phpclass Blocks extends Front{	function LoadMainContent(){		$class = $_GET['class'];        $method = $_GET['method'];				if ($class == ''){			$class = $this->config['default_class'];			$method = $this->config['default_method'];			$_GET['class'] = $class;			$_GET['method'] = $method;		}				if ($class != ''){			$className  = trim($class);			$methodName = trim($method);						$ajax = (int)$_REQUEST['ajax'];			$class_file = DOC_ROOT."Classes/modules/class.{$className}.php";			if (file_exists($class_file) && is_file($class_file)){				$_REQUEST['class'] = $class;				include_once($class_file);				eval("\$obj = new $className;");				$pos = strpos($methodName, "_");				// $this->smarty->assign('CurrentPage', "{$className} - {$methodName}");				$this->smarty->assign('CurrentPage', "{$className}");								if (method_exists($obj, $methodName) && $pos !== 0){					if ($params) $content .= $obj->$methodName($params);					else $content .= $obj->$methodName();				}else{					$content .= $this->MissingPage();				}				if ($ajax){					print $content;					exit;				}			}			else{				$content = $this->MissingPage();			}		}		else{			$content = $this->MissingPage();		}		return $content;	}		function MissingPage(){		$class_file = DOC_ROOT."Classes/modules/class.MissingPage.php";		include_once($class_file);		$MissingPage = new MissingPage;		$content .= $MissingPage->LoadDefault();		return $content;	}}?>